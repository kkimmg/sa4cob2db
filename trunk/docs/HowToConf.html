<html>
<head>
<title>How To Conf.</title>
</head>
<body>
<ol>
<li>
Environment Values.
<table border="1">
<tr><th>Environment Value</th><th>Description</th><th>Sample</th></tr>
<tr><td>ACM_CONFFILE</td><td>File Name of meta data set.</td><td>/opt/sa4cob2db/conf/metafile.xml</td></tr>
<tr><td>ACMLIBS_DIR</td><td>Directory where acmlibs.jar exists.</td><td>/opt/sa4cob2db</td></tr>
<tr><td>ACM_HOSTNAME</td><td>hostname or address that SQLNetServer accepts.<br>This value is used by TCP client.</td><td>localhost</td></tr>
<tr><td>ACM_USERNAME</td><td>username for connect to SQLNetServer.<br>This value is used by TCP client.</td><td>username</td></tr>
<tr><td>ACM_PASSWORD</td><td>password for connect to SQLNetServer.<br>This value is used by TCP client.</td><td>password</td></tr>
<tr><td>ACM_PP_CHARSET</td><td>Character set of source code</td><td>EUCJP</td></tr>
<tr><td>ACM_SESSIONLISTENERS</td><td>Classes process session events.<br>Class names separated by ":"</td><td>ACMSessionEventAdapterTest</td></tr>
<tr><td>ACM_SERVERLISTENERS</td><td>Classes process server events.<br>Class names separated by ":"</td><td>ACMServerEventAdapterTest:k_kim_mg.sa4cob2db.admin.MinAdminAdapter</td></tr>
<tr><td>ACMOFF_FILE</td><td>Configuration File for to  SQLNetServer.</td><td>sa4cob2db/conf/shutdown.conf</td></tr>
</table>
</li>
<li>
Configuration File(<a href="./metafile.dtd">DTD</a>)<br/>
<ol>
<li>meatadataset</li>
<ol>
	<li>Elements</li>entire settings<br/>
	<ol>
		<li>jdbcdriverurl</li>JDBC Driver URL.
		<li>jdbcdatabaseurl</li>JDBC Database URL
		<li>jdbcusername</li>JDBC Database Username.
		<li>jdbcpassword</li>JDBC Database Password.
		<li>address</li>Hostname or Address which SQLNetServer accepts. Comma(,) Seperated names or addresses.<br/>default value is localhost.
		<li>port</li>Port number which SQLNetServer accepts.<br/>default value is 12345.
		<li>maxsessions</li>Maximum session count. It means unlimited count if 0 set to this value.
		<li>log</li>Logging configuration File name.
		<li>authfile</li>Password File name.
		<li>adminfile</li>Administrators Password File name.
		<li>backlog</li>Backlog of Server Socket that SQLNetServer uses.
		<li>sessionlisteners</li>Classes process session events.<br>Class names separated by ":"
		<li>serverlisteners</li>Classes process server events.<br>Class names separated by ":"
	</ol>
	<li>otherofset</li>Class to handle other nodes nor in the entire settings in metadata. This class has to implement <a href="../doc/k_kim_mg/sa4cob2db/sql/xml/MetaDataSetNodeProcessor.html">MetaDataSetNodeProcessor<a/> interface.<br>
		Attributes:name:Name of node<br>
		Element:Classname
	<li>otherofmeta</li>Classes to handle node that is not defined. This class has to implement <a href="../doc/k_kim_mg/sa4cob2db/sql/xml/MetaDataNodeProcessor.html">MetaDataNodeProcessor<a/> interface.
	<li>metadata:Each metadata/file settings</li>
	Attributes
	<ol>
		<li>name</li>External file name or Metadata name.<br/>YYYY of 'SELECT XXXX ASSIGN TO "YYYY"'.
		<li>bufinit</li>Initial buffering record count for sequential read.<br/>'READ NEXT' waits until count of buffered records reached this value.
		<li>bufmin</li>Minimum buffering record count for sequential read.<br/>'READ NEXT' waits until count of buffered records reached this value.
		<li>bufmax</li>Maximum buffering record count. <br/>Maximum number of records to be buffered in the sequential read operation.
		<li>encode</li>Character encoding of record.
		<li>customClassName</li>Class of order to the operation of its own non-built-in. <br/>This class has to implement <a href="../doc/k_kim_mg/sa4cob2db/CobolRecordMetaData.html">CobolRecordMetaData<a/> interface.
	</ol>
	Element
	<ol>
		<li>statement</li>SELECT statement<br/>You need to sort the result set by "ORDER BY" if the file is read Random/Dynamic.
		<li>sqlcolumn</li>Column. build-in object.<br/>
		Attributes
		<ol>
			<li>name</li>Column name of COBOL record.<br/>
			This string must be unique among the metadata.
			<li>type</li>Data type.
				<table border="1">
				<tr><th>Value</th><th>Cobol Type</th><th>Description</th></tr>
				<tr><td>1</td><td>9 or S9</td><td>Integer. If this column is signed integer(S9), set true to  'signed' attribute.</td></tr>
				</table>
			<li>start</li>Column location. Start from 0.
			<li>length</li>Column length. This is logical length.
			<li>signed</li>Set true to this value if the column is signed integer.
			<li>decimal</li>Number of decimal places.
			<li>usage</li>Usage.
			<li>format</li>Pattern string to be set to Format ojbect.<br/>
					Class shown below is used to convert the numeric or date.<br/>
					This string is a pattern that is set to an object of this class.<br/>
					<table border="1">
					<tr><th>Data type</th><th>Class</th>
					<tr><td>Number</td><td>java.text.SimpleDecimalFormat</td>
					<tr><td>Date/Time</td><td>java.text.SimpleDateFormat</td>
					</table>
			<li>originalColumnName</li>Field name of SQL result set.
			<li>readIgnore</li>The area of COBOL record is not set bytes from SQL records value, if this value is set to true.</br>
				<table border="1">
					<tr><th>Value</th><th>Behavior</th>
					<tr><td><b>false</b></td><td>The column of COBOL record is updated with SQL records value.</td>
					<tr><td>true</td><td>The column is ignored.</td>
				</table>
			<li>rewriteIgnore</li>The field is not set value from COBOL record when record is updated by "REWRITE" statement, if this value set to true.</br>
				<table border="1">
					<tr><th>Value</th><th>Behavior</th>
					<tr><td><b>false</b></td><td>The field of SQL record is updated with COBOL columns value.</td>
					<tr><td>true</td><td>The field is ignored.</td>
				</table>
			<li>writeIgnore</li>The field is not set value from COBOL record when record is inserted by "WRITE" statement, if this value set to true.</br>
				<table border="1">
					<tr><th>Value</th><th>Behavior</th>
					<tr><td><b>false</b></td><td>The field of SQL record is updated with COBOL columns value.</td>
					<tr><td>true</td><td>The field is ignored.</td>
				</table>
		</ol>
		<li>customcolumn</li>Column with the behavior that can not be realized in the built-in column.<br/>
		Attributes
		<ol>
			<li>name</li>Column name of COBOL record. It is same to attribute that has same name of sqlcolumn .
			<li>classname</li>Class name. This class has to implement <a href="../doc/jp/ne/biglobe/mvh/k_kim_mg/acm/CobolColumn.html">CobolColumn</a> interface.
			<li>constructor</li>Select the constructor type to create an object of the class of this column.
				<table border="1">
				<tr><th>Value</th><th colspan="2">Arguments</th></tr>
				<tr><td>1</td><td colspan="2">No arguments</td><tr>
				<tr><td>2</td><td>metadata</td><td>CobolRecordMetaData object that includes this column.</td><tr>
				<tr rowspan="2"><td rowspan="2">3</td><td>metadata</td><td>CobolRecordMetaData object that includes this column.</td></tr>
				<tr><td>node</td><td>Node object that defines this column.</td></tr>
				</table>
		</ol>
		<li>keycolumn</li>The names of column that is primary key. 
		<li>indexfile</li>START命令などで使用するための索引を定義します。<br>
		属性
		<ol> 
			<li>filename</li>事前に作成したレイアウト/メタデータ/ファイルを指定します。
			<li>indexname</li>COBOLプログラムが使用するための索引名を指定します。
		</ol>
		ノード<br/>
		ファイルとインデックスの列の関連付けを行います。
		<ol>
			<li>index2file</li>インデックスの列をファイルのキー列に割り当てます。<br/>
			属性
			<ol>
				<li>filecolumn</li>ファイル側の列
				<li>indexcolumn</li>インデックス側の列
			</ol>
			<li>file2index</li>ファイルの列をインデックスのキー列に割り当てます。<br/>
			属性
			<ol>
				<li>filecolumn</li>ファイル側の列
				<li>indexcolumn</li>インデックス側の列
			</ol>
		</ol>
		<li>truncate</li>全データを削除するSQL文を記述します。<br/>
				ファイルをOUTPUTモードでオープンしたときに実行されます。ここでSQL文を指定しないとstatement属性で検索されたレコードが1件ずつ削除されます。
		<li>listener</li>このメタデータのイベント処理を行うクラスを指定します。<br/>ここで指定するクラスはCobolFileEventListenerを実装しなければなりません。
	</ol>
</ol>
</li>
</ol>
</body>
</html>

